<!DOCTYPE html>
<html>
<head>
  <title>Icon Generator</title>
</head>
<body>
  <h2>Generate Extension Icons</h2>
  <p>This page converts the SVG icon to PNG format at different sizes.</p>

  <canvas id="canvas" style="display:none;"></canvas>

  <div>
    <h3>Generated Icons:</h3>
    <div id="output"></div>
  </div>

  <script>
    const sizes = [16, 48, 128];
    const svgContent = `
<svg width="SIZE" height="SIZE" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
  </defs>
  <circle cx="64" cy="64" r="60" fill="url(#gradient)"/>
  <path d="M 45 40 L 45 88 L 85 64 Z" fill="white"/>
  <circle cx="94" cy="34" r="6" fill="white" opacity="0.8"/>
  <circle cx="102" cy="50" r="4" fill="white" opacity="0.6"/>
  <circle cx="98" cy="68" r="5" fill="white" opacity="0.7"/>
</svg>`;

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const output = document.getElementById('output');

    sizes.forEach(size => {
      const img = new Image();
      const svg = svgContent.replace(/SIZE/g, size);
      const blob = new Blob([svg], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);

      img.onload = function() {
        canvas.width = size;
        canvas.height = size;
        ctx.drawImage(img, 0, 0, size, size);

        canvas.toBlob(function(pngBlob) {
          const link = document.createElement('a');
          link.download = `icon${size}.png`;
          link.href = URL.createObjectURL(pngBlob);
          link.textContent = `Download icon${size}.png`;
          link.style.display = 'block';
          link.style.margin = '10px 0';

          const img = document.createElement('img');
          img.src = link.href;
          img.width = size;
          img.height = size;
          img.style.border = '1px solid #ccc';
          img.style.marginRight = '10px';

          const div = document.createElement('div');
          div.style.display = 'flex';
          div.style.alignItems = 'center';
          div.style.marginBottom = '20px';
          div.appendChild(img);
          div.appendChild(link);

          output.appendChild(div);
        });

        URL.revokeObjectURL(url);
      };

      img.src = url;
    });
  </script>
</body>
</html>
